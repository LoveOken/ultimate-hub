<!DOCTYPE HTML>
<HTML>

<HEAD>
    <SCRIPT TYPE="text/javascript" SRC="/JS/UTILS/RELOAD.js"></SCRIPT>
</HEAD>

<BODY>
    <DIV ID="LOBBY">
        <DIV ID="GAME-CREATE">
            <BUTTON ID="LOBBY-FORM-TITLE">
                Create Game
            </BUTTON>
            <FIELDSET ID="LOBBY-FIELDSET">
                <FORM METHOD="POST" ID="LOBBY-FORM">
                    <INPUT ID="LOBBY-FORM-INPUT" TYPE="text" NAME="title" PLACEHOLDER="New Game" MAX="30">
                    <INPUT ID="LOBBY-FORM-SUBMIT" TYPE="SUBMIT" VALUE="Create">
                </FORM>
            </FIELDSET>
        </DIV>
        <DIV ID="LOBBY-ROOMS">
        </DIV>
    </DIV>
    <SCRIPT TYPE="text/javascript" SRC="/JS/UTILS/PROTOTYPES.js"></SCRIPT>
    <SCRIPT TYPE="text/javascript" SRC="/JS/UTILS/SOCKET.js"></SCRIPT>
    <SCRIPT TYPE="text/javascript" SRC="/JS/UTILS/SCROLLBARS.js"></SCRIPT>
    <SCRIPT>
    const CREATE_TABLE_DISPLAY = function(table) {
    	let container, header;

    	container = document.createElement("div");
    	header = document.createElement("h1");

    	container.classList.add("ROOM");
    	header.classList.add("ROOM-HEADER");

    	header.innerHTML = table.id;

    	container.append(header);

    	document.getElementById("LOBBY-ROOMS").append(container);
    }

    let socket = io();

    socket
        .on("update-start", function() {
            socket.emit("update-process");
        })
        .on("update-tables", function(tables) {
            tables.forEach(CREATE_TABLE_DISPLAY);
            console.log(tables);
        })
        .emit("ready");
    </SCRIPT>
</BODY>

</HTML>